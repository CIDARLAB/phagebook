<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Profile</title>
    <link rel="shorcut icon" href="../styles/images/phagebookLogoMin_16x16.ico"/>
    <base href="/">
    <link rel="stylesheet" href="../styles/cssBootstrap/bootstrap.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="../styles/clothoNavBar.css">
    <link rel="stylesheet" href="../styles/phagebookMainStyle.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="../scripts/angular.ng-modules.js"></script>
    <script src="../scripts/lodash.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.0/q.js"></script>


<body>
<div ng-module="clothoRoot">
    <div class="container">
        <div clotho-command-bar></div>
    </div>
    <terminal-aside></terminal-aside>
</div>
    
<div ng-module="projectsApp">
    <div ng-controller="projectsController">
    <phagebook-sidebar></phagebook-sidebar>    
<div class="container-fluid" id="submitProjectPage">

    <!--  <div class="text-center col-md-6">

          <img src="styles/images/phagebookschem.png" alt="Phagebook Schematic">

    </div> -->
    <div class="col-md-1"></div>

    <div ng-controller="extraLabs" class="col-md-5">


        <!--this is where the new user input goes -->
        <form class="form-horizontal" role="form" method="post">
            <h3 style="font-weight:bold">Create your Project</h3><br>
            <div class="form-group">
                <label class="control-label col-md-3" for="project">Project:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="projectName" placeholder="Project Name">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="position">Affiliated Labs:</label>
                <div class="col-md-6">
                    <input id = "positionList" list="position"  class="form-control" name="position" placeholder="Lab">
                </div>
                <button ng-click="addLab()">+</button>
            </div>
            <div class="form-group">
                <label class="control-label col-md-3" for="institution">Description:</label>
                <div class="col-md-6">
                    <textarea class="form-control" id="description"  placeholder="Description"></textarea>
                </div>
            </div>
            </form>
            <div>
                <div class="text-center col-md-4"><br>
                    <button id="submitProject" class="btn btn-default" >Create Project</button>
                </div>
            </div>

        
    </div>

</div>
<br> <br>
<footer></footer>
</div>
</div>

<!---SCRIPTS-->

<script>
//    var myApp = angular.module("myApp", []);
//
//    myApp.controller('extraLabs', ['$scope', function($scope)
//    {
//        $scope.labCount = 0;
//
//        $scope.addLab = function() {
//            $scope.labCount += 1;
//        };
//    }]);

    console.log('loads!');
    console.log("loads@222");
    var testObject = {
        "name": "name_input",
        "labs": ["CIDAR","HYNESS"],
        "description": "project description"
    };
    console.log(testObject);
    

    $("#submitProject").click(function(){
       console.log("button clicked!!!!");
       var name = $("#projectName").val();
       var description = $("#description").val();
       console.log(name);
       console.log(description);
       
       $.ajax({
            url: "processProject",
            type: "POST",
            async: false,
            data: {
                "name": name,
                //"labs": ["CIDAR","HYNESS"],
                "description": description
            },
            success: function (response) {
                console.log(response);
            },
            error: function () {
                alert("ERROR!!");
            }
        });   
    });


</script>
<script src="../scripts/clotho/b18fc8c8.clotho-app-command.js"></script>
<script src="../scripts/clotho/c0f113c2.clotho-core-module.js"></script>
<script type='text/javascript' src="../scripts/clotho/b18fc8c8.clotho-app-command.js"></script>
<script type='text/javascript' src="../scripts/clotho/c0f113c2.clotho-core-module.js"></script>
<script type='text/javascript' src="../scripts/clotho/c2a11f43.clotho-foundation-module.js"></script>
<script src='../scripts/clotho/68a2b2df.clotho-command-module.js'></script>
<script src="../scripts/clotho/clotho3API.js"></script>
<script src="../scripts/pubmed.js"></script>
<script src="../scripts/jsBootstrap/ui-bootstrap-tpls-0.12.0.min.js"></script>
<script src="../scripts/displayProjectController.js"></script>
<script src="../scripts/footerDirective.js"></script>
<script src="../scripts/sidebarDirective.js"></script>
<script src="../scripts/searchBarDirective.js"></script>
<script src="../scripts/projectController.js"></script>
<script src='../scripts/clotho/68a2b2df.clotho-command-module.js'></script>
<script src="../scripts/projectsApp.js"></script>

</body>
</html>
