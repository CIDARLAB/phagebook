<!doctype html>
<html>
  <head>



    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lab Ordering</title>
    <meta name="description" content="Clotho Lab Ordering">
    <meta name="viewport" content="width=1024, initial-scale=1">
    <script src="scripts/clotho3API.js"></script>
    <!-- not necessary until serving outside root directory / want html5 mode -->
    <base href="/">

    <link rel="stylesheet" href="styles/2e84f2a0.command.css"/>
    <link rel="stylesheet" href="styles/773cbfe6.main.css"/>
    <link rel ="stylesheet" href="styles/Phagebook_Styles.css"/>

    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.0/q.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="bower_components/jquery/jquery.js"></script>

    <!-- note that angular is required for any clotho functionality -->
    <script src="bower_components/angular/angular.js"></script>
    <!-- note that lodash is required by several components -->
    <script src="bower_components/lodash/dist/lodash.js"></script>
      <script src="projectsCTRL.js"></script>
    <script src="projects-app.js"></script>
</head>

<body onload = "load()" ng-controller = "orderingCTRL">
<!--[if lt IE 9]>
<script src="bower_components/es5-shim/es5-shim.js"></script>
<script src="bower_components/json3/lib/json3.min.js"></script>
<![endif]-->


<div ng-app="clothoRoot">
  <div class="container">
    <div clotho-command-bar></div>
  </div>

  <terminal-aside></terminal-aside>
</div>


<div class = "contentBackground" ng-app = "ordering">
   <div class = "mainContent">
       <div class = "leftColumn">
       <div id = "profilePic" class = "profileImg"
             style="background-image:url('/images/people/kara_pro.PNG')">
        </div>

       <a href = "Profile.html" id = "profileName"> </a>
       <a  href = "" id = "universityName"></a>
       <a  href = "" id = "positionName"></a><br><br>


       <a href="Profile.html" >News</a><br>
       <a href="Ordering.html" >Ordering</a><br>
       <a href="./Profile_papers.html">Papers</a><br>
       <a href="./Projects.html" >Projects</a><br>
       <a href="" > Parts</a> <br><br>

       <a href ="" style="align-self: center" >Colleagues </a><br>
       <div class = inline-block>

           <table id="friendBox" class="form-inline " style='margin-bottom: 10px;' role="form">
               <tbody style="text-align: center;">
           </table>

       </div>
       <div class = "row">
           <div class = "friendImg"
                style="background-image:url('/images/people/Katie_Lewis.jpeg');">
               <div class = "friendName">Katie </div>
           </div>
           <div class = "friendImg"
                style="background-image:url('/images/people/Zach.JPG');">
               <div class = "friendName">Zach </div>
           </div>
           <div class = "friendImg"
                style="background-image:url('/images/people/prash.jpg');">
               <div class = "friendName">Prashant</div>
           </div>
           <div class = "friendImg"
                style="background-image:url('/images/people/DougDensmore.png');">
               <div class = "friendName">Doug </div>
           </div>
           <div class = "friendImg"
                style="background-image:url('/images/people/Inna.jpg');">
               <div class = "friendName">Inna </div>
           </div>
       </div>
   </div>

   

       <div class = "rightColumn">

         <h1 style="margin-left: 20px">ORDERING</h1>

           <div class = "navigation">
          <ul class = "navigation">
            <li class = "navigationBar"><a href>About</a></li>
            <li class = "navigationBar"><a href=Ordering.html>Orders</a></li>
            <li class = "navigationBar"><a href=Vendors.html>Vendors</a></li>
            <li class = "navigationBar"><a href=Items.html>Items</a></li>
            <li class = "navigationBar"><a href>Stats</a></li>
          </ul>

           </div>
           <br>

        <div class = "line"></div>


        <div id = "CreateNewVendor" style = "display: none">
        <ng-form class="form-horizontal" name = "orderingForm" ng-class="{'has-error' : projectForm.name.$dirty && orderingForm.name.$invalid}">

        <h1>Create New Vendor</h1>
        <label>Name *</label>
        <input id="vendorName" type="text"><br><br>
        <label>Contact</label>
        <input id="contact" type="text"><br><br>
        <label>Phone</label>
        <input id="phone" type="text"><br><br>
        <label>E-mail</label>
        <input id="email" type="text"><br><br>
        <label>URL</label>
        <input id="url" type="text"><br><br>


        <button id = "create" class="btn btnphagebook btn-lg" >Create</button><br>
        </ng-form>

        </div> 


        <br>
        <div id = "New">   


        <button class="btn btnphagebook btn-lg"  id = "CreateNewVendorButton"> New Vendor</button>
        <br>
        <br>

            <label>Search for Vendor</label>
            <input id="vendorSearch" type="text" onkeypress="vendorAutocomplete()">

         <br><br>

        <table id = "tableVendors">
        <tr> 
          <th>Name</th>
          <th>Contact</th>
          <th>Phone #</th>
          <th>E-mail</th>
          <th>URL</th>
        </tr>
       </table>    

<br>
      <div class = "pages"> 

          <ul class = "pages">

            <li class = "pages"><a href> < previous </a></li>

            <li class = "pages"><a href> 1</a></li>

           <li class = "pages"><a href> 2</a></li>

           <li class = "pages"><a href> 3</a></li>

           <li class = "pages"><a href> 4</a></li>

           <li class = "pages"><a href> 5</a></li>

           <li class = "pages"><a href> 6</a></li>

            <li class = "pages"><a href> next ></a></li>
       </ul>
       </div>
        </div>
       </div>
  </div>
</div>



<script src="scripts/b18fc8c8.clotho-app-command.js"></script>
<script src="scripts/c0f113c2.clotho-core-module.js"></script>
<!--note - remove all scripts below this for api-only build-->
<script src="scripts/c2a11f43.clotho-foundation-module.js"></script>
<script src="scripts/68a2b2df.clotho-command-module.js"></script>
<!-- our custom app files -->
<script src="scripts/ordering/ordering-app.js"></script>
<script src="scripts/ordering/basicAPI.js"></script>
<script src="scripts/ordering/trackingOrdering.js"></script>
<script src="scripts/ordering/orderingCtrl.js"></script>

<script>

    function vendorAutocomplete()
    {
        var str = document.getElementById("vendorSearch").value;
        alert(str);
        Clotho.autocomplete(str).then(function(result){
           //alert(JSON.stringify(result));
        });
    }


$(document).ready(function(){
        $("#CreateNewVendorButton").click(function(){
           var id = document.getElementById("New");
           var secondID = document.getElementById("CreateNewVendor");
            id.style.display='none';
            secondID.style.display = 'block';
        });
    });


$(document).ready(function(){
  $('#create').click(function(){

      if (document.getElementById("vendorName").value == "")
      {
          alert("Please fill out all required fields");
          document.getElementById("CreateNewVendor").style.display = 'block';
      }
      else
      {
        var name = document.getElementById("vendorName").value;
        var contact = document.getElementById("contact").value;
        var phone = document.getElementById("phone").value;
        var email = document.getElementById("email").value;
        var URL = document.getElementById("url").value;

        var str = '{';
        var firstObj = str.concat(
                '"' + "name" + '"' + ":" + '"' + document.getElementById("vendorName").value
                + '","contact":' + '"' + document.getElementById("contact").value
                + '","phone":' + '"' + document.getElementById("phone").value
                + '","email":' + '"' + document.getElementById("email").value
                + '","URL":' + '"' + document.getElementById("url").value
                + '","schema":"org.clothocad.phagebook.vendor"}');


        var Obj = JSON.parse(firstObj);
        var n_in = 1;
        n_in = Number(n_in) + 1;
        sessionStorage.n_keys = n_in;
        Clotho.create(Obj);
        //alert(JSON.stringify(Obj));



          $('#tableVendors').append("<tr style='margin-top: 10px;'>" +
          "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key" + n_in
          + "' >Key:</label>" + Obj.name + "</div> </td>" +
          "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key" + n_in
          + "' >Key:</label>" + Obj.contact + "</div> </td>" +
          "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key" + n_in
          + "' >Key:</label>" + Obj.phone + "</div> </td>" +
          "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key" + n_in
          + "' >Key:</label>" + Obj.email + "</div> </td>" +
          "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key" + n_in
          + "' >Key:</label>" + Obj.URL + "</div> </td>"+"</tr>");

            //alert(JSON.stringify(vendorID));

            document.getElementById("CreateNewVendor").style.display = "none";
            document.getElementById("New").style.display = "block";

        }


      });
    });

//create a string inside the button click.



    function load(){
        var n_in = 1;
        n_in = Number(n_in) + 1;
        sessionStorage.n_keys = n_in;

        Clotho.query({"schema":"org.clothocad.phagebook.vendor"}).then(function(vendorList){
            for(var i=0;i<vendorList.length;i++){

                $('#tableVendors').append("<tr style='margin-top: 10px;'> " +
                "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key"+n_in
                + "' >Key:</label>" + vendorList[i].name + "</div> </td>" +
                "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key"+n_in
                + "' >Key:</label>" + vendorList[i].contact + "</div> </td>" +
                "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key"+n_in
                + "' >Key:</label>" + vendorList[i].phone + "</div> </td>" +
                "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key"+n_in
                + "' >Key:</label>" + vendorList[i].email + "</div> </td>" +
                "<td> <div class='form-group' style='margin-bottom: 10px;'>" + "<label class='sr-only' for='key"+n_in
                + "' >Key:</label>" + vendorList[i].URL + "</div> </td>" +
                + "</tr>");
            }


        });
    }

</script>
<script type  = text/javascript>
    $(document).ready(function() {
        var personID = window.name;
        Clotho.get(personID).then(function (personObj) {
                    alert(personObj.lastname);
                    document.getElementById("profileName").innerHTML = personObj.firstname + " " + personObj.lastname;
                    document.getElementById("universityName").innerHTML = personObj.institution;
                    document.getElementById("positionName").innerHTML = personObj.position;

                }

        );


    });
</script>


</body>
</html>
