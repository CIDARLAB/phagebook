<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Profile</title>
    <meta name="description" content="Clotho Lab Ordering">
    <meta name="viewport" content="width=1024, initial-scale=1">

    <!-- not necessary until serving outside root directory / want html5 mode -->
    <base href="/">

    <link rel="stylesheet" href="styles/2e84f2a0.command.css"/>
    <link rel="stylesheet" href="styles/773cbfe6.main.css"/>


    <script src="bower_components/jquery/jquery.js"></script>

    <!-- note that angular is required for any clotho functionality -->
    <script src="bower_components/angular/angular.js"></script>
    <!-- note that lodash is required by several components -->
    <script src="bower_components/lodash/dist/lodash.js"></script>

    <script src= "https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.0/q.js"></script>

    <style>
        #profileName
        {
            color: white;
            text-shadow:
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
    </style>

</head>


<body>
<div ng-app="clothoRoot">
    <div class="container">
        <div clotho-command-bar></div>
    </div>
    <terminal-aside></terminal-aside>
</div>
<div class="contentBackground" style="margin-left:-10px; margin-right:-10px; margin-top:-20px; margin-bottom:-100px; background-color:#e9eaed">
    <div class="mainContent" style="width:851px;  margin-left:auto; margin-right:auto; background-color:#fff; font-family:helvetica">
        <div class="coverContainer" style="background-image:url(/images/logo-CIDAR-2.png); background-repeat: no-repeat;">
            <div class="row">
                <div class="col-xs-9 col-xs-offset-2" style="margin-top:245px;">
                    <h3> <strong> <p id= "profileName" ></p></strong>
                    </h3>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-2" style="margin-left:16px;"><img src="/images/people/kara_pro.PNG" style="margin-top:-130px; padding:3px; background-color:#fff; border:1px solid #000;">
                </div>
                <div class="col-xs-9" style="margin-top: 40px;">
                    <h4>
                        <a href="./Profile.html" class="col-xs-2">News</a>
                        <a href="./Ordering.html" class="col-xs-2">Ordering</a>
                        <a href="./Profile_papers.html" class="col-xs-2">Papers</a>
                        <a href="./Projects.html" class="col-xs-2">Projects</a>
                        <a href="" class="col-xs-2">Parts</a> <br>
                    </h4>
                </div>
            </div>

            <div class="personalNews">

                <div class="row">
                    <div class="col-xs-2" style="margin-left:44px; margin-bottom:16px; text-decoration: underline;">

                        <br>
                        <br>
        <ng-form id = "inputStatus">
    <input id = "newStatus" name = "newStatus" style = "width: 400px">
    <button style = "margin-left: 400px" id = "createStatus" class="btn btn-primary" >Create</button><br>
</ng-form>
                        <table id="keyValueForm" class="form-inline " style='margin-bottom: 10px;width:700px' role="form">
                            <tbody style="text-align: center;">

                        </table>

                        <!-- {"id":"clotho.developer.katielewis1","name":"Katie Lewis","schema":"org.clothocad.model.PersonalProfile","institution":"Boston University","lab":"CIDAR","position":"Undergraduate","permission":"basic", "username":"kmlewis","projects":
     -->
                       <!-- <div id = "theprofileInputs">
                            <table>
                                <label> <strong> First Name</strong></label>
                                <input id = "firstName" name = "firstName" style = "width: 400px;"> <br>
                                <label> <strong> Last Name </strong> </label>
                                <input  id = "authorbox" name = "author" style="width: 400px;"><br>
                                <label> <strong> Institution</strong> </label>
                                <input id="instituion" name="institution" style="width: 200px;"><br>
                                <label> <strong> Picture </strong></label>
                                <input list="picture" name="picture">
                                <datalist id ="picture">
                                    <option value  = "kara_pro.PNG" >
                                    <option value  = "Katie_Lewis.jpeg" >
                                    <option value  = "Inna.jpg" >
                                    <option value  = "zack.jpg" >
                                    <option value  = "BillCao.jpg" >
                                    <option value  = "ChrisAnderson.jpg" >
                                    <option value  = "DougDensmore.png" >
                                    <option value  = "MaxwellBates.jpg" >
                                    <option value  = "MinaLi.jpg" >
                                    <option value  = "prash.jpg" >
                                    <option value  = "StephaniePaige.jpg" >
                                </datalist>
                                <label> <strong> Lab</strong> </label><br>
                                <input id="lab" name="lab" style="width: 200px;">
                                <label> <strong> Position </strong> </label>
                                <input list="position" name="position">
                                <datalist id = "position">
                                    <option value = "undergraduate" ></option>
                                    <option value = "graduate">Graduate</option>
                                    <option value = "labManager" >Lab Manager</option>
                                    <option value = "pi"> Principal Investigator</option>
                                    <option value = "postdoc" >Postdoctoral</option></datalist>

                                <label> <strong> Permissions </strong></label>
                                <input list ="permissions" name = "permissions">
                                <datalist id = "permissions">
                                    <option value  = "basic" >basic</option>
                                    <option value  = "private" >private</option>
                                    <option value  = "ninja" >ninja</option></datalist>

                                <br>

                                <p>
                                    <button class="btn btn-primary" id = "addPerson" >Create Person</button>
                                </p>
                            </table>

                        </div>-->
                    </div>
                </div>
            </div>
            <!--       <p><strong>Douglas Densmore</strong> (CIDAR) fired <strong>Zach Chapasko</strong> (CIDAR)<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">5 hours ago</p>
                   <p><strong>Zach Chapasko</strong> (CIDAR) made 2 parts<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Yesterday at 7:37pm<br></p>
                   <p><strong>Zach Chapasko</strong> (CIDAR) pushed 2 commits to PhageDev<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Yesterday at 9:49am<br></p>
                   <p>3 people used <strong>Zach Chapasko</strong>'s (CIDAR) part BBa_0034<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Wednesday at 1:52am<br></p>
                   <p><strong>Zach Chapasko</strong> (CIDAR) published "Effects of Sleep Deprivation on Synthetic Biologists"<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Tuesday at 7:52pm<br></p>
                   <p><strong>Zach Chapasko</strong> (CIDAR) pushed 5 commits to OwlDev<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Tuesday at 5:26pm<br></p>
                   <p><strong>Katie Lewis</strong> (iGem) commented on <strong>Zach Chapasko</strong>'s (CIDAR) Lab Notebook<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">Monday at 9:12pm<br></p>
                   <p><strong>Zach Chapasko</strong> joined CIDAR Group at BU<br></p>
                   <p style="font-size:.75em; margin-top:-12px;">9 months ago<br></p>
                   -->

        </div>
    </div>
</div>

</div>
<!--------
SCRIPTS
--------->

<!--note - correct app based on the distribution, comments removed by build-->
<script type = "text/javascript">
    $(document).ready(function() {
        var personID = "clotho.developer.karalefort";
        $("#createStatus").click(function () {
            //alert("createStatus")
            timeStamp = Date.now();
            //alert(timeStamp)
           // var StatusObj = str.concat('"schema":', '"org.clothocad.phagebook.status"');//,', "entryDate":', '",document.getElementById("statusText").value' );
            var StatusObj = "{ \"schema\": \"org.clothocad.phagebook.status\", \"time\" :\"" + timeStamp + "\" , \"text\": \"" + document.getElementById("newStatus").value + "\" , \"person\": \"" + personID + "\" }";
            //alert(StatusObj);
            var obj = JSON.parse(StatusObj);
            alert(obj);
            alert(StatusObj);
            Clotho.create(obj).then(function(result){

                Clotho.get(personID).then(function(personObj) {

                    personObj.statuses.push(result);

                   Clotho.set(personObj);
            })
         });
        });
    })
</script>

<!--<script type= "text/javascript">
    /*$(document).ready(function(){
        {
            //alert('load page')
            var personID = "clotho.developer.klefort";
            alert(personID)
            Clotho.get(personID).then(function (personObj){
            alert(personObj.name)
            document.getElementById("profileName").innerHTML = personObj.name;
            });
        }
    })*/
</script>-->

<script type  = text/javascript>
$(document).ready(function() {
    {
        //alert('hey');
        var personID = "clotho.developer.karalefort";
        //alert('here');
        var statusObj;
        var notNullArray = [];
        Clotho.get(personID).then(function (personObj) {
           //alert(personObj.name);
            document.getElementById("profileName").innerHTML = personObj.name;
            Clotho.get(personObj.statuses).then(function(statusObj) {
                alert(personObj.statuses);
                if (personObj.statuses.length == null) {

                 }
                else
                    {
                        for (var i = 0; i < statusObj.length; i++) {
                             alert(statusObj.length);
                            if (statusObj[i] == null) {
                                personObj.statuses[i] = [];

                            }
                           else {

                                notNullArray.push(i);
                                var paperCite = '';
                                var newStatus = statusObj[i];
                                $('#keyValueForm').append("<tr style='margin-top: 10px;'> <td>"  + "<p>" + newStatus.text + "</p></td> <td>" + newStatus.timestamp + "</td> < td > < button onclick = 'deletePaper(" + JSON.stringify(statusObj) + ") ' class= 'btn btn-primary'" + "> x </button></td></tr>");
                            }
                            Clotho.set(personObj)

                        }

                }
            }
            );
        });
    }
});
</script>



<script src="scripts/b18fc8c8.clotho-app-command.js"></script>

<script src="scripts/c0f113c2.clotho-core-module.js"></script>

<!--note - remove all scripts below this for api-only build-->

<script src="scripts/c2a11f43.clotho-foundation-module.js"></script>


<script src="scripts/68a2b2df.clotho-command-module.js"></script>

<!-- our custom app files -->
<script src="scripts/LabOrdering-app.js"></script>
<script src="scripts/Ordering.js"></script>
<script src="scripts/Tracking.js"></script>
<script src="scripts/orderingCtrl.js"></script>
<script src="scripts/clotho3API.js"></script>


</body>
</html>
