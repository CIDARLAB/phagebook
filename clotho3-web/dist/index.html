<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Phagebook</title>
    <link rel="shorcut icon" href="styles/images/phagebookLogoMin_16x16.ico"/>

    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>

    <link rel="stylesheet" href="styles/cssBootstrap/bootstrap.css"/>
    <!--<link rel="stylesheet" href="styles/clothoNavBar.css">-->
    <link rel="stylesheet" href="styles/phagebookMainStyle.css"/>
    <script src="scripts/clotho/clotho3API.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>

</head>

<body>

<!--<div ng-app="clothoRoot">
    <div class="container">
        <div clotho-command-bar> </div>
    </div>

    <terminal-aside></terminal-aside>-->

<div class="navbar navbar-static-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display-->
        <div class="navbar-header">
            <ul class="navbar">
                <li><img src="styles/images/phagebookWhite.png"></a></li>
            </ul>
        </div>
        <div role="form" class="navbar-form navbar-right" method="post">
            <div class="form-group">
                <input type="email" ng-model="username" class="form-control" name="returnEmail" placeholder="Email Address">
            </div>
            <div class="form-group">
                <input type="password" ng-model="password" class="form-control" name="returnPassword" placeholder="Password">
            </div>
            <div class="checkbox">
                <label style="color:whitesmoke">
                    <input type="checkbox"> Remember Me <!--MAKE THIS WORK-->
                </label>
            </div>
            <button id="login" class="btn btn-default">Sign In</button>
        </div>
    </div>
</div>

<div class="container">
    <div class="text-center col-md-6">

        <img src="styles/images/phagebookschem.png" alt="Phagebook Schematic">

    </div>
    <div class="col-md-1"></div>
    <div class="col-md-5">

        <!--this is where the new user input goes -->
        <form class="form-horizontal" role="form">
            <h3 style="font-weight:bold">Create a Phagebook Profile Today!</h3><br>
            <div class="form-group">
                <label class="control-label col-md-3" for="firstname">First Name:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="firstname" placeholder="First Name">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="lastname">Last Name:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="lastname" placeholder="Last Name">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="email">Email:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="email" placeholder="Email Address">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="password">Password:</label>
                <div class="col-md-6">
                    <input type="password" class="form-control" id="password" placeholder="Password">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="lab">Lab:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="lab" placeholder="Lab">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="institution">Institution:</label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="institution" placeholder="Institution">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="position">Position:</label>
                <div class="col-md-6">
                    <input id = "positionList" list="position"  class="form-control" name="position" placeholder="Position">
                    <datalist id = "position">
                        <option value = "Undergraduate" >Undergraduate</option>
                        <option value = "Graduate">Graduate</option>
                        <option value = "Postdoctorate" >Postdoctorate</option>
                        <option value = "Lab Manager" >Lab Manager</option>
                        <option value = "Principal Investigator">Principal Investigator</option>
                    </datalist>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3" for="permissions">Permissions:</label>
                <div class="col-md-6">
                    <input id="permissionsList" list ="permissions" class="form-control" name = "permissions" placeholder="Permissions">
                    <datalist id = "permissions">
                        <option value  = "Basic" >basic</option>
                        <option value  = "Private" >private</option>
                        <option value  = "Ninja" >ninja</option>
                    </datalist>
                </div>

                <div class="form-group">
                    <div class="text-center col-md-4"><br>
                        <button id="addPerson" ng-click="" type="submit" class="btn btn-default" >Create Profile</button>
                    </div>
                </div>
            </div>
        </form>


    </div>
</div>

<!--centered at the bottom is the write-up copyright stuff-->
<div class="modal-footer">
    Created by <a href="mailto:azulad7@bu.edu">CIDAR Lab</a><br>
    Visit us at: <a href="http://www.cidarlab.org" target="_blank">CIDAR Lab at Boston University</a><br>
    copyright info
</div>

<!--------
SCRIPTS
--------->
<script>
    $("#login").click(function(){
        alert("login");
        //window.name = "clotho.developer."+ document.getElementById("username").value;
        //Clotho.login(document.getElementById("email"),document.getElementById("password"));
        window.location.href = './html/profile.html';

    })
</script>

<script>
    //var personID = "clotho.developer." ;
    //document.getElementById("theInputs").style.visibility = "hidden";
    $("#addPerson").click(function() {
        alert("click");
        var obj = [];
        // var file    = document.querySelector('input[type=file]').files[0];
        //var myInput = document.getElementsByTagName("input");
        alert(document.getElementById("permissionsList").value);
        var personId = "clotho.developer."+ document.getElementById("firstname").value[0] +  document.getElementById("lastname").value;
        obj.push('\"' + "firstname" + '\": \"' + document.getElementById("firstname").value + '\"' +"," + '\"'+  "lastname"+ '\":\"' + document.getElementById("lastname").value+ '\"' );
        obj.push('\"' + "position" + '\": \"' + document.getElementById("positionList").value + '\"' +"," + '\"'+  "lab"+ '\":\"' + document.getElementById("lab").value+ '\"' );
        obj.push('\"' + "institution" + '\": \"' + document.getElementById("institution").value + '\"' +"," + '\"'+  "permissions"+ '\":\"' + document.getElementById("permissionsList").value + '\"' );
        obj.push('\"' + "schema" + '\": \"' + "org.clothocad.model.person" + '\"' +"," + '\"'+  "id"+ '\":\"' + personId+ '\"' );
        obj.push('\"'+  "projects"+ '\": []' +"," + '\"'+  "statuses"+ '\":[]' + "," + '\"'+  "orders"+ '\":[]'  );
        obj.push('\"'+  "friends"+ '\": []');

        var personObj = '{' + obj + '}';

        alert(personObj);
        var createObj = JSON.parse(personObj);
        Clotho.create(createObj).then(function(result){
            alert("Clotho create a new object" + result);
        });

       Clotho.login(document.getElementById("email"),document.getElementById("password"));
        window.location.href = './html/profile.html';
    });
</script>


    <!--add angular minified sources-->
<script src="scripts/clotho/b18fc8c8.clotho-app-command.js"></script>

<script src="scripts/clotho/c0f113c2.clotho-core-module.js"></script>

<!--note - remove all scripts below this for api-only build-->

<script src="scripts/clotho/c2a11f43.clotho-foundation-module.js"></script>


<script src="scripts/clotho/68a2b2df.clotho-command-module.js"></script>
<script src="scripts/indexAPI.js"></script>

</body>
</html>